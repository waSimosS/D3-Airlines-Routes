<html>

<head>
    <style>
        .line {
            fill: none;
            stroke: blue
        }
    </style>
</head>
<body>
    <svg id="container" height="600" width="1200">
        
    </svg>
</body>
<script src="../node_modules/d3/dist/d3.js"></script>
<script>
    let body = d3.select("#container")
          .append("g")
          .attr("transform", "translate(300, 300)")
    d3.csv("./data/data.csv").then(showData)

    function showData(data) {
        let bodyHeight = 500
        let bodyWidth = 1000


        data = data.map(d => ({
            country: d.country,
            sales: +d.sales
        }))

        
        let pie = d3.pie()
                  .value( d => d.sales)
        
        let colorScale = d3.scaleOrdinal()
                    .range(d3.schemeCategory10)
                    .domain(data.map( d => d.country))
        
        let arc = d3.arc()
                  .outerRadius(bodyHeight/2)
                  .innerRadius(0)
                  // change the inner radius to 200 to draw a donult chart
        
        let g = body.selectAll(".arc")
                .data(pie(data))
                .enter()
                .append('g')
            g.append("path")
              .attr("d", arc)
              .attr("fill", d => colorScale(d.data.sales))
        }


</script>

</html>